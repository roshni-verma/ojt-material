#packages that need to be imported for this loan repayment prediction.
import pandas as pd
from sklearn.model_selection  import train_test_split
from sklearn.tree import DecisionTreeClassifier
from sklearn.metrics import accuracy_score,classification_report
from sklearn.model_selection import GridSearchCV


# load the dataset loan.csv
data= pd.read_csv('loan.csv')
print(data)



#select the features which need to be used in the case
x = data[['loan_amount','interest_rate','term','income','credit_score','age','employment_length']]
y = data['loan_repaid']
print(x)
print(y)


# split trains_tests
x_trains, x_test,y_train, y_test = train_test_split(x,y,test_size=0.2,random_state=42)


#initiate train_tests
model = DecisionTreeClassifier(random_state=42)


#train the model
model.fit(x_trains,y_train)


#make a prediction
y_pred = model.predict(x_test)
accuracy = accuracy_score(y_test,y_pred)
print(f"accuracy:{accuracy:.2f}")
print("classification_report:")
print(classification_report(y_test,y_pred))

#print("confusion Matrix:")
#print(confusion_matrix:(y_test,y_pred))


